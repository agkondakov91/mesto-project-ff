(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),p:""};e.d({},{O:()=>_});var t=[{name:"Архыз",link:e.p+"images/arkhyz.156d07d84524cc942d68.jpg"},{name:"Челябинская область",link:e.p+"images/chelyabinsk-oblast.167b0005add1694393db.jpg"},{name:"Иваново",link:e.p+"images/ivanovo.50bb648b47735ffba9eb.jpg"},{name:"Камчатка",link:e.p+"images/kamchatka.e2daa86be296ebffd99c.jpg"},{name:"Холмогорский район",link:e.p+"images/kholmogorsky.d75cf55cc6dcd72e4e9a.jpg"},{name:"Байкал",link:e.p+"images/baikal.99b6e21b94798ec54759.jpg"}];function r(e,t,r,n){var o=_.querySelector(".card").cloneNode(!0);o.querySelector(".card__title").textContent=e.name,o.querySelector(".card__image").src=e.link,o.querySelector(".card__image").alt=e.name;var c=o.querySelector(".card__delete-button"),a=o.querySelector(".card__like-button"),i=o.querySelector(".card__image");return c.addEventListener("click",t),a.addEventListener("click",r),i.addEventListener("click",(function(){n(e)})),o}function n(e){e.target.classList.toggle("card__like-button_is-active")}function o(e){e.target.closest(".card").remove()}function c(e){document.addEventListener("keydown",i),e.classList.add("popup_is-opened")}function a(e){document.removeEventListener("keydown",i),e.classList.remove("popup_is-opened")}function i(e){"Escape"===e.key&&a(document.querySelector(".popup_is-opened"))}function u(e){e.target===e.currentTarget&&a(e.target)}function l(e,t,r){var n=e.querySelector(".".concat(t.id,"-error"));t.classList.remove(r.inputErrorClass),n.classList.remove(r.errorClass),n.textContent=""}function p(e,t){var r=Array.from(e.querySelectorAll(t.inputSelector)),n=e.querySelector(t.submitButtonSelector);r.forEach((function(r){l(e,r,t)})),s(r,n,t)}function s(e,t,r){!function(e){return e.some((function(e){return!e.validity.valid}))}(e)?(t.disabled=!1,t.classList.remove(r.inactiveButtonClass)):(t.disabled="true",t.classList.add(r.inactiveButtonClass))}var d={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"};!function(e){Array.from(document.querySelectorAll(e.formSelector)).forEach((function(t){!function(e,t){var r=Array.from(e.querySelectorAll(t.inputSelector)),n=e.querySelector(t.submitButtonSelector);s(r,n,t),r.forEach((function(o){o.addEventListener("input",(function(){!function(e,t,r){t.validity.patternMismatch?t.setCustomValidity(t.dataset.error):t.setCustomValidity(""),t.validity.valid?l(e,t,r):function(e,t,r,n){var o=e.querySelector(".".concat(t.id,"-error"));t.classList.add(n.inputErrorClass),o.classList.add(n.errorClass),o.textContent=r}(e,t,t.validationMessage,r)}(e,o,t),s(r,n,t)}))}))}(t,e)}))}(d);var _=document.querySelector("#card-template").content,m=document.querySelector(".places__list"),f=document.querySelector(".profile__edit-button"),y=document.querySelector(".profile__add-button"),v=document.querySelectorAll(".popup__close"),S=document.querySelector(".popup_type_edit"),b=document.forms["edit-profile"],q=b.querySelector(".popup__input_type_name"),g=b.querySelector(".popup__input_type_description"),k=document.querySelector(".popup_type_new-card"),E=document.forms["new-place"],L=E.querySelector(".popup__input_type_card-name"),C=E.querySelector(".popup__input_type_url"),h=document.querySelector(".popup_type_image"),j=h.querySelector(".popup__image"),x=h.querySelector(".popup__caption"),A=document.querySelector(".profile__title"),w=document.querySelector(".profile__description");function B(e){j.src=e.link,j.alt=e.name,x.textContent=e.name,c(h)}v.forEach((function(e){var t=e.closest(".popup");t.addEventListener("mousedown",u),e.addEventListener("click",(function(){return a(t)}))})),b.addEventListener("submit",(function(e){e.preventDefault(),A.textContent=q.value,w.textContent=g.value,a(S),p(b,d)})),E.addEventListener("submit",(function(e){var t;e.preventDefault(),t=r({name:L.value,link:C.value},o,n,B),m.prepend(t),a(k),E.reset(),p(E,d)})),f.addEventListener("click",(function(){p(b,d),q.value=A.textContent,g.value=w.textContent,c(S)})),y.addEventListener("click",(function(){p(E,d),c(k)})),t.forEach((function(e){var t;t=r(e,o,n,B),m.append(t)}))})();